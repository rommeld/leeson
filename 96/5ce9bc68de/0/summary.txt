All done. Here's a summary of what was implemented:

**Python (agents layer):**
- `state.py` — Added `total_input_tokens` and `total_output_tokens` counters to `SharedState`
- `bridge.py` — Added `send_token_usage()` to emit cumulative totals to the TUI via JSON-lines
- `models.py` — Added `record_usage()` helper that extracts `request_tokens`/`response_tokens` from pydantic-ai `RunResult.usage()`, accumulates them, and reports to TUI
- All 5 agent files — Added `record_usage(deps, result)` after every `agent.run()` call (11 sites total). The two execution agent calls that previously discarded the result now capture it.

**Rust (TUI layer):**
- `agent.rs` — Added `TokenUsage { input_tokens, output_tokens }` variant to `AgentToTui` enum and handling in `spawn_stdout_reader`
- `event.rs` — Added `AgentTokenUsage` variant to `Message` enum with idempotent assignment in `update()`
- `app.rs` — Added `TokenUsageStats` struct with `total_tokens()` and `estimated_cost()` methods, and `token_usage` field on `App`
- `config.rs` — Added `token_input_cost` / `token_output_cost` fields parsed from `LEESON_TOKEN_INPUT_COST` / `LEESON_TOKEN_OUTPUT_COST` env vars (USD per million tokens)
- `main.rs` — Wired config cost rates into `app.token_usage`
- `status_bar.rs` — Added magenta token usage badge (e.g. `1.2k tok $0.0042`) between sim stats and connection status, only shown when tokens > 0